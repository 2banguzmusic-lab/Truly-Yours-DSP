<!DOCTYPE html>
<html>
<body>

<h2>Upload Your Music</h2>

<input type="file" id="musicFile" accept=".mp3">
<br><br>

<button onclick="uploadSong()">Upload Song</button>
<p id="uploadStatus"></p>

<input id="youtubeLink" type="text" placeholder="Paste your YouTube link">
<button onclick="goToYouTube()">Go to My YouTube</button>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

<script src="firebase-init.js"></script>

<script>
function goToYouTube() {
  const link = document.getElementById("youtubeLink").value;
  if (!link) {
    alert("Paste your YouTube link");
    return;
  }
  window.open(link, "_blank");
}

function uploadSong() {
  const fileInput = document.getElementById("musicFile");
  const status = document.getElementById("uploadStatus");

  if (!fileInput.files.length) {
    status.innerText = "Pick an MP3 first.";
    return;
  }

  const file = fileInput.files[0];
  status.innerText = "Uploading...";

  firebase.storage()
    .ref("artists_audio/" + Date.now() + "-" + file.name)
    .put(file)
    .then(() => {
      status.innerText = "✅ Upload complete!";
    })
    .catch(err => {
      status.innerText = "❌ Error: " + err.message;
    });
}
</script>

</body>
</html>
